<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calazzans</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="../css/GerenciarCalazzans.css" rel="stylesheet">
</head>

<body>  

    <div class="topo">
        <div class="icone"></div>
        <h1>Calazzans</h1>
        <div class="icone"></div>
    </div>

    <div class="retangulo">
        <div class="texto-retangulo">
            <div class="intro-text">Vamos gerenciar seu dinheiro</div>
            <div class="info-linha">
                <div class="info-item">
                    <div>Saldo do mÃªs:</div>
                    <span class="saldo" id="saldo"></span>
                </div>
                <div class="info-item">
                    <div>Despesas do mÃªs:</div>
                    <span class="despesas" id="despesas"></span>
                </div>
            </div>
        </div>

        <div class="divisoria"></div>

        <div class="botoes">
            <button class="botao" onclick="abrirModalAdicionar()">+</button>
            <button class="botao" onclick="abrirModalRemover()">âˆ’</button>
        </div>
    </div>

    <div class="grade-quadrados">
        <!-- Quadrado Saldo -->
        <div class="quadrado" draggable="true">
            <div class="titulo-container">
                <div class="titulo">Saldo atual</div>
                <button class="botao-meta" onclick="abrirModalListaSaldo()" title="Ver lista de saldos">ðŸ“‹</button>
            </div>
            <div class="valor">R$ 0,00</div>
            <div class="proximos-recebimentos">
                <div class="proximos-recebimentos-titulo">PrÃ³ximos recebimentos</div>
                <ul class="lista-datas">

                </ul>
            </div>
        </div>

        <!-- Quadrado Despesas -->
        <div class="quadrado despesa-lista" draggable="true">
            <div class="titulo-container">
                <div class="titulo">Despesas</div>
                <button class="botao-meta-red" onclick="abrirModalListaDespesas()" title="Ver lista de despesas">ðŸ“‹</button>
            </div>
            <div class="valor">R$ 0,00</div>
            <ul class="lista-itens">
                <li>Supermercado - R$ 350,00</li>
                <li>Transporte - R$ 150,00</li>
                <li>Aluguel - R$ 1.500,00 <span class="oculto"> (Exemplo oculto)</span></li>
                <li class="oculto">Internet - R$ 90,00</li>
                <li class="oculto">Academia - R$ 80,00</li>
                <li class="oculto">Lazer - R$ 180,00</li>
            </ul>
            <button class="ver-mais-btn" onclick="toggleDespesas(this)">Ver mais</button>
        </div>

        <!-- Quadrado Despesas por Categoria -->
        <div class="quadrado" draggable="true">
            <div class="titulo">Despesas por Categoria</div>
            <canvas id="graficoDespesasPizza" style="margin-top: 15px; max-height: 250px;"></canvas>
        </div>

        <!-- Quadrado Meta -->
        <div class="quadrado" draggable="true">
            <div class="titulo-container">
                <div class="titulo">Meta de Gastos (MÃªs)</div>
                <button class="botao-meta" onclick="abrirModalMeta()" title="Definir Meta">ðŸŽ¯</button>
            </div>
            <div class="meta-info">
                <span class="gasto-atual">R$ 850,00</span> / <span class="meta-total">R$ 1.000,00</span>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar-fill" style="width: 15%;"></div>
            </div>
            <div class="meta-status">
                Cuidado, vocÃª estÃ¡ prÃ³ximo de atingir a meta.
            </div>
        </div>

        <!-- Quadrado HistÃ³rico -->
        <div class="quadrado" draggable="true">
            <div class="titulo">HistÃ³rico de Gastos</div>
            <ul class="lista-historico">
                <li><span>Maio:</span> <span>R$ 850,00</span></li>
                <li><span>Abril:</span> <span>R$ 920,00</span></li>
                <li><span>MarÃ§o:</span> <span>R$ 780,00</span></li>
                <li><span>Fevereiro:</span> <span>R$ 1.050,00</span></li>
            </ul>
        </div>
    </div>

    <!-- Modal principal -->
    <div id="modal" class="modal">
        <!-- Modal Adicionar -->
        <div id="modal-adicionar" class="modal-conteudo" style="display: none;">
            <form id="FormSaldo" method="POST" action="#" novalidate>
                <input type="hidden" name="form_type" value="add_saldo">
                <span class="fechar" onclick="fecharModal()">&times;</span>
                <h2>Adicionar Rendimento</h2>
                <label for="descricaoRendimento" class="modal-label">DescriÃ§Ã£o</label>
                <input id="descricaoRendimento" name="descricao_rendimento" type="text" placeholder="Ex: SalÃ¡rio da empresa X" class="modal-input" required />
                <div class="modal-grupo-inline">
                    <div>
                        <label for="tipoRendimento" class="modal-label">Tipo de Rendimento</label>
                        <select id="tipoRendimento" name="tipo_rendimento" class="modal-input" required>
                            <option value="salario">SalÃ¡rio</option>
                            <option value="bico">Bico</option>
                            <option value="unico">Renda Ãšnica</option>
                        </select>
                    </div>
                    <div>
                        <label for="valorRendimento" class="modal-label">Valor (R$)</label>
                        <input id="valorRendimento" name="valor_rendimento" type="number" step="0.01" placeholder="0.00" class="modal-input" required />
                    </div>
                </div>
                <label for="dataRendimento" class="modal-label">Data do Rendimento</label>
                <input id="dataRendimento" type="date" class="modal-input" required />
                <input type="hidden" id="dataRendimentoFormatada" name="data_rendimento" />
                <label for="frequencia" class="modal-label">FrequÃªncia</label>
                <select id="frequencia" name="frequencia_rendimento" class="modal-input" required>
                    <option value="unica">Ãšnica</option>
                    <option value="mensal">Mensal</option>
                    <option value="quinzenal">Quinzena</option>
                </select>
                <button type="submit" class="modal-confirmar">Confirmar</button>
            </form>
        </div>

        <!-- Modal Remover -->
        <div id="modal-remover" class="modal-conteudo" style="display: none;">
            <form id="FormDespesa" method="POST" action="#" novalidate>
                <input type="hidden" name="form_type" value="add_expense">
                <span class="fechar" onclick="fecharModal()">&times;</span>
                <h2 style="color: #cc0000;">Adicionar Despesa</h2>
                <label for="descricaoDespesa" class="modal-label">DescriÃ§Ã£o da Compra</label>
                <input id="descricaoDespesa" name="descricao_despesa" type="text" placeholder="Ex: Jantar com amigos" class="modal-input" required />
                <label for="dataDespesa" class="modal-label">Data da Despesa</label>
                <input id="dataDespesa" type="date" class="modal-input" required />
                <input type="hidden" id="dataDespesaFormatada" name="data_despesa" />
                <div class="modal-grupo-inline">
                    <div>
                        <label for="valorDespesa" class="modal-label">Valor (R$)</label>
                        <input id="valorDespesa" name="valor_despesa" type="number" step="0.01" placeholder="0.00" class="modal-input" required />
                    </div>
                    <div>
                        <label for="statusDespesa" class="modal-label">Status</label>
                        <select id="statusDespesa" name="status_despesa" class="modal-input" required>
                            <option value="pago">Pago</option>
                            <option value="pendente">Pendente</option>
                        </select>
                    </div>
                </div>
                <label for="tagsDespesa" class="modal-label">Tag</label>
                <select id="tagsDespesa" name="tag_despesa" class="modal-input" required>
                    <option value="alimentacao">AlimentaÃ§Ã£o</option>
                    <option value="guardar">Guardar</option>
                    <option value="acessorio">AcessÃ³rio</option>
                    <option value="jogo">Jogo</option>
                    <option value="academia">Academia</option>
                    <option value="servico">ServiÃ§o</option>
                </select>
                <label for="frequenciaDespesa" class="modal-label">FrequÃªncia</label>
                <select id="frequenciaDespesa" name="frequencia_despesa" class="modal-input" required>
                    <option value="unica">Ãšnica</option>
                    <option value="mensal">Mensal</option>
                    <option value="quinzenal">Quinzena</option>
                </select>
                <div class="modal-grupo-inline">
                    <div>
                        <label for="pagamentoDespesa" class="modal-label">Forma de Pagamento</label>
                        <select id="pagamentoDespesa" name="pagamento_despesa" class="modal-input" required>
                            <option value="pix">Pix</option>
                            <option value="boleto">Boleto</option>
                            <option value="cartao_credito">CartÃ£o de CrÃ©dito</option>
                        </select>
                    </div>
                    <div>
                        <label for="parcelasDespesa" class="modal-label">Parcelas</label>
                        <input id="parcelasDespesa" name="parcelas_despesa" type="number" placeholder="1" value="1" min="1" class="modal-input" required />
                    </div>
                </div>
                <button type="submit" class="modal-confirmar" style="background-color: #cc0000;">Confirmar</button>
            </form>
        </div>

        <!-- Modal Meta -->
        <div id="modal-meta" class="modal-conteudo" style="display: none;">
            <form id="FormMeta" method="POST" action="#" novalidate>
                <input type="hidden" name="form_type" value="set_meta">
                <span class="fechar" onclick="fecharModal()">&times;</span>
                <h2>Definir Meta de Gastos</h2>
                <label for="valorMeta" class="modal-label">Valor da Meta (R$)</label>
                <input id="valorMeta" name="valor_meta" type="number" step="0.01" placeholder="2000.00" class="modal-input" required />
                <button type="submit" class="modal-confirmar">Salvar Meta</button>
            </form>
        </div>

        <!-- Modal Lista Saldo -->
        <div id="modal-listaSaldo" class="modal-conteudo" style="display: none;">
            <span class="fechar" onclick="fecharModalListaSaldo()">&times;</span>
            <h2>Lista de Saldos Adicionados</h2>
            <ul>
                <!-- Os itens serÃ£o inseridos pelo JavaScript -->
            </ul>
        </div>

        <!-- Modal Lista Despesas -->
        <div id="modal-listaDespesas" class="modal-conteudo" style="display: none;">
            <span class="fechar" onclick="fecharModalListaDespesas()">&times;</span>
            <h2>Lista de Despesas</h2>
            <ul>
                <li>Supermercado: R$ 350,00</li>
                <li>Transporte: R$ 150,00</li>
                <li>Aluguel: R$ 1.500,00</li>
            </ul>
        </div>

    </div>

    <script src="../js/vars.js"></script>
    <script src="../js/FuntionGerenciarCalazzans.js"></script>
    <script src="../js/Meta.js"></script>
    <script src="../js/Despesa.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../js/Saldo.js"></script>
    <script src="../js/GetAllUser.js"></script>
    
</body>

</html>
